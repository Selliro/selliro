<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="key-feature.css">
</head>
<body>
    <section id="features" class="features-area">
        <div class="container large">
            <div class="features-area-inner">
                <div class="shape-1">
                    <img src="assets/img/img-s-21.webp" alt="shape image">
                </div>
                <div class="shape-2">
                    <img src="assets/img/img-s-22.webp" alt="shape image">
                </div>
                <div class="section-content">
                    <div class="section-title-wrapper">
                        <div class="subtitle-wrapper overflow-hidden">
                            <span class="section-subtitle has-left-line has_fade_anim">Key Features</span>
                        </div>
                        <div class="title-wrapper">
                            <h2 class="section-title has_text_move_anim" >
                                <div >We helped to get </div>
                                <div >companies with </div>
                                <div >$100M+ funding </div>
                                <div >globally.</div>
                            </h2>
                        </div>
                    </div>
                    <div class="text-wrapper has-left-line">
                        <h2 class="title wc-counter is-visible" >81 <span>+</span></h2>
                        <p class="text">We help brands stand out through visual design</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>

<script>
gsap.registerPlugin(ScrollTrigger);
  const counterElement = document.querySelector(".wc-counter");
  const finalValue = 81;
  const counterValue = { val: 0 };

  const randomDigit = () => {
    const types = ['single', 'double'];
    const pick = types[Math.floor(Math.random() * types.length)];
    if (pick === 'single') return Math.floor(Math.random() * 10);        // 0–9
    return Math.floor(Math.random() * 90) + 10;                          // 10–99
  };

  gsap.from(".wc-counter-wrapper", {
    y: 50,
    opacity: 0,
    duration: 1.2,
    ease: "power2.out",
    scrollTrigger: {
      trigger: ".wc-counter-wrapper",
      start: "top 85%",
      once: true,
      onEnter: () => {
        gsap.to(counterValue, {
          val: finalValue,
          duration: 3,
          ease: "power1.out",
          onUpdate: () => {
            if (Math.random() > 0.3) {
              counterElement.innerHTML = `${randomDigit()} <span>+</span>`;
            } else {
              counterElement.innerHTML = `${Math.floor(counterValue.val)} <span>+</span>`;
            }
          },
          onComplete: () => {
            counterElement.innerHTML = `${finalValue} <span>+</span>`;
          }
        });
      }
    }
  });    


 // Fade in subtitle
  gsap.registerPlugin(ScrollTrigger);
  gsap.from(".section-subtitle", {
    scrollTrigger: {
      trigger: ".section-subtitle",
      start: "top 80%",
    },
    x: -50,
    opacity: 0,
    duration: 0.5,
    ease: "power2.out"
  });

  // Text move animation for section title lines
  gsap.from(".section-title div", {
    scrollTrigger: {
      trigger: ".section-title",
      start: "top 80%",
    },
    y: 100,
    opacity: 0,
    duration: 1,
    stagger: 0.15,
    ease: "power2.out"
  });

  // Counter animation
  gsap.from(".wc-counter", {
    scrollTrigger: {
      trigger: ".wc-counter",
      start: "top 80%",
    },
    scale: 0.5,
    opacity: 0,
    duration: 1,
    ease: "back.out(1.7)"
  });

  // Text paragraph fade-in
  gsap.from(".text-wrapper .text", {
    scrollTrigger: {
      trigger: ".text-wrapper",
      start: "top 85%",
    },
    x: 50,
    opacity: 0,
    duration: 1,
    ease: "power2.out",
    delay: 0.3
  });

  // Background shapes float effect (optional eye-candy)
  gsap.to(".shape-1", {
    y: -20,
    duration: 3,
    repeat: -1,
    yoyo: true,
    ease: "sine.inOut"
  });

  gsap.to(".shape-2", {
    y: 15,
    duration: 4,
    repeat: -1,
    yoyo: true,
    ease: "sine.inOut"
  });
</script>

</body>
</html>
